<div class="col-md-12 d-flex justify-content-end" style="margin-bottom: -35px;">
  <button type="button" class="btn btn--orange1 btn--md float-right" (click)="gestionar()"
    [disabled]="deshabilitarGestionar">
    <span class="icon-arrow-right mr-2"></span>
    <ng-template [ngIf]="mostrarBitacora">
      {{ 'eventos.consulta.solicitud.gestionar' | translate }}
    </ng-template>
    <ng-template [ngIf]="!mostrarBitacora">
      {{ 'eventos.consulta.solicitud.bitacora' | translate }}
    </ng-template>
  </button>
</div>

<app-mim-bitacora [idProceso]="idProceso" *ngIf="mostrarBitacora"></app-mim-bitacora>

<div *ngIf="!mostrarBitacora">

  <div class="row mx-0 w-100 align-items-center">
    <div class="col-md-12">
      <h1 class="my-0">
        <span *ngIf="codFaseFlujo == 3;else fasePago">
          {{ 'eventos.consulta.solicitud.liquidacionPago.tituloLiquida' | translate }}
        </span>
        <ng-template #fasePago>
          {{ 'eventos.consulta.solicitud.liquidacionPago.tituloPago' | translate }}
        </ng-template>
      </h1>
    </div>
  </div>

  <!-- Inicio steper horizontal -->
  <div class="col-12 mt-4 d-block" *ngIf="items?.length || 0">
    <div>
      <div class="w-100 mt-2 mb-0">
        <div class="card cards--headerFooter w-100">
          <div class="card-body p-0">
            <p-steps [model]="items" [activeIndex]="activeIndex"></p-steps>
          </div>
        </div>
      </div>
      <!-- Fin steper horizontal -->
      <div class="mx-0 w-100">
        <div class="accordion w-100">
          <div [ngSwitch]="activeIndex">
            <div *ngSwitchCase="0">
              <app-cobertura (activaSiguiente)="_siguienteCobertura($event)" (activaGuardar)="_guardarCobertura($event)"
                (irSiguiente)="_irSiguienteCobertura($event)"></app-cobertura>
            </div>
            <div *ngSwitchCase="1">
              <app-valor-pagar (activaSiguiente)="_siguienteValorPagar($event)"
                (activaGuardar)="_guardarValorPagar($event)" (irSiguiente)="_irSiguienteValorPagar($event)"
                (irAtras)="_irAtrasValorPagar($event)"></app-valor-pagar>
            </div>
            <div *ngSwitchCase="2">
              <app-liquidar (activaGuardar)="_guardarLiquidar($event)"></app-liquidar>
            </div>
          </div>


          <!--Controles -->
          <div class="card cards--footer border-0 rounded-0 panel-crear-cuenta z-index-footer">
            <div class="card-body py-2">
              <div class="row mx-0 w-10 justify-content-end align-items-center">
                <!-- Botones -->
                <div class="col-xl-12">
                  <div class="d-flex flex-row-reverse">
                    <button type="submit" class="btn btn--orange1 btn--md mr-2" (click)="_guardar()"
                      [disabled]="!habilitarGuardar">
                      <span class="icon-save mr-2"></span>
                      {{ 'global.save' | translate }}
                    </button>
                    <button type="submit" class="btn btn--orange1 btn--md mr-2" (click)="_siguiente()"
                      *ngIf="!_esPasoFinal()" [disabled]="!habilitarSiguiente">
                      <span class="icon-arrow-right mr-2"></span>
                      {{ 'global.next' | translate }}
                    </button>
                    <button type="submit" class="btn btn--orange1 btn--md mr-2" (click)="_atras()"
                      *ngIf="!_esPasoInicial()">
                      <span class="icon-arrow-left mr-2"></span>
                      {{ 'global.back' | translate }}
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

</div>
